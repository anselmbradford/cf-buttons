/* ==========================================================================
   Flapjack Front End
   Button Styling
   ========================================================================== */

@btn-font-size-px: 14px;
@super-btn-font-size-px: 18px;

/* topdoc
    name: Default button
    family: fj-buttons
    patterns:
    - name: Default state
      markup: <button class="btn">Sign up</button>
    - name: Hovered/focused state
      markup: <button class="btn hover">Sign up</button>
    - name: Active state
      markup: <button class="btn active">Sign up</button>
    tags:
    - fj-buttons
*/

.btn {

    @font-size: @btn-font-size-px;

    &,
    &:link,
    &:visited {
        box-sizing: border-box;
        display: inline-block;
        margin: 0;
        padding: unit( 10px / @font-size, em ) unit( 14px / @font-size, em );
        .webfont-medium;
        font-size: unit( @font-size / @base-font-size-px, em );
        line-height: 1;
        color: @white;
        background-color: @pacific;
        border: 0;
        border-radius: unit( 4px / @font-size, em );
        cursor: pointer;
        text-decoration: none;
        vertical-align: middle;
        -webkit-appearance: none;
        -webkit-transition: .1s;
           -moz-transition: .1s;
             -o-transition: .1s;
            -ms-transition: .1s;
                transition: .1s;
    }

    &:hover,
    &:focus,
    &.hover {
        background-color: @pacific-80;
    }

    &:active,
    &.active {
        background-color: @navy-80;
    }

}

.lt-ie8 {

    @font-size: @btn-font-size-px;

    button.btn,
    input.btn {
        padding: unit( 8px / @font-size, em ) unit( 6px / @font-size, em );
    }

}


/* topdoc
    name: Secondary button
    family: fj-buttons
    patterns:
    - name: Default state
      markup: <button class="btn btn-secondary">Sort</button>
    - name: Hovered/focused state
      markup: <button class="btn btn-secondary hover">Sort</button>
    - name: Active state
      markup: <button class="btn btn-secondary active">Sort</button>
    tags:
    - fj-buttons
*/

.btn-secondary {

    background-color: @gray;
    color: @white;

    &:hover,
    &:focus,
    &.hover {
        background-color: @gray-80;
    }

    &:active,
    &.active {
        background-color: @gray-80;
    }

}

///* topdoc
    // name: Tertiary button
    // family: fj-buttons
    // patterns:
    // - name: Default state
    //   markup: <button class="btn btn-tertiary">Clear</button>
    // - name: Hovered/focused state
    //   markup: <button class="btn btn-tertiary hover">Clear</button>
    // - name: Active state
    //   markup: <button class="btn btn-tertiary active">Clear</button>
    // tags:
    // - fj-buttons
//*/

// .btn-tertiary {

//     & {
//         background-color: @gray-20;
//         color: @black;
//     }

//     &:hover,
//     &:focus,
//     &.hover {
//         background-color: @green-midtone;
//     }

//     &:active,
//     &.active {
//         background-color: @green;
//         color: @white;
//     }

// }


/* topdoc
    name: Destructive action button
    family: fj-buttons
    patterns:
    - name: Default state
      markup: <button class="btn btn-warning">Delete</button>
    - name: Hovered/focused state
      markup: <button class="btn btn-warning hover">Delete</button>
    - name: Active state
      markup: <button class="btn btn-warning active">Delete</button>
    tags:
    - fj-buttons
*/

.btn-warning {

    & {
        background-color: @redorange;
        color: @white;
    }

    &:hover,
    &:focus,
    &.hover {
        background-color: @redorange-80;
    }

    &:active,
    &.active {
        background-color: @dark-redorange;
    }

}


/* topdoc
    name: Disabled button
    family: fj-buttons
    patterns:
    - name: Default/hovered/focused/active state
      markup: <button class="btn btn-disabled">Submit</button>
    tags:
    - fj-buttons
*/

.btn-disabled {

    &,
    &:hover,
    &:focus,
    &.hover,
    &.active {
        background-color: @gray-20;
        color: @gray;
        cursor: default; // Fallback for IE/Opera
        cursor: not-allowed;
    }

}


/* topdoc
    name: Super button
    family: fj-buttons
    patterns:
    - name: Default state
      markup: <button class="btn btn-super">Get Started!</button>
    - name: Hovered/focused state
      markup: <button class="btn btn-super hover">Get Started!</button>
    - name: Active state
      markup: <button class="btn btn-super active">Get Started!</button>
    tags:
    - fj-buttons
*/

.btn-super {

    @font-size: @super-btn-font-size-px;

    &,
    &:link,
    &:visited {
        padding: unit( 15px / @font-size, em ) unit( 30px / @font-size, em );
        font-size: unit( @font-size / @base-font-size-px, em );
    }

}

.lt-ie8 {

    @font-size: @super-btn-font-size-px;

    button.btn-super,
    input.btn-super {
        padding: unit( 12px / @font-size, em ) unit( 7px / @font-size, em );
    }

}


/* topdoc
    name: Button with icons
    family: fj-buttons
    patterns:
    - name: Leading icon
      markup: |
        <button class="btn">
            <i class="btn-leading-icon icon-chevron-left"><span class="jekyll-bug"></span></i> Previous
        </button>
    - name: Trailing icon
      markup: |
        <button class="btn">
            Next <i class="btn-trailing-icon icon-chevron-right"><span class="jekyll-bug"></span></i>
        </button>
    - name: Just an icon
      markup: |
        <button class="btn">
            <i class="icon-search"><span class="jekyll-bug"></span></i>
        </button>
    tags:
    - fj-buttons
    - fj-icons
*/


.btn {

    // Fixes #8, #15
    & [class^="icon-"],
    & [class*="icon-"] {
        line-height: .99;
    }

}

.btn-leading-icon {
    @font-size: @btn-font-size-px;

    margin: 0 unit( 7px / @font-size, em) 0 0;
    padding: 0 unit( 10.5px / @font-size, em) 0 0;
    color: @white;
    border-right: 1px solid @white; // Fallback
    border-right: 1px solid rgba(255, 255, 255, 0.4);
    position: relative;
}

.btn-trailing-icon {
    @font-size: @btn-font-size-px;

    margin: 0 0 0 unit( 7px / @font-size, em);
    padding: 0 0 0 unit( 10.5px / @font-size, em);
    border-right: 0;
    border-left: 1px solid @white; // Fallback
    border-left: 1px solid rgba(255, 255, 255, 0.4);
}


/* topdoc
    name: Button group
    family: fj-buttons
    patterns:
    - name: Default buttons in a button group
      markup: |
        <div class="btn-group">
            <button class="btn">Action 1</button>
            <button class="btn">Action 2</button>
            <button class="btn">Action 3</button>
        </div>
    - name: Super buttons in a button group
      markup: |
        <div class="btn-group">
            <button class="btn btn-super">Action 1</button>
            <button class="btn btn-super">Action 2</button>
            <button class="btn btn-super">Action 3</button>
        </div>
    tags:
    - fj-buttons
*/

.btn-group {

     @font-size: @btn-font-size-px;

    .btn:first-child:not(:last-child) {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }

    .btn + .btn {
        margin-left: unit( -3px / @font-size, em );
    }

    .btn + .btn:not(:last-child) {
        border-radius: 0;
    }

    .btn:last-child {
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
    }

    .btn-super + .btn-super {
        @font-size: @super-btn-font-size-px;
        margin-left: unit( -3px / @font-size, em );
    }

}


/* topdoc
    name: Compound button
    family: fj-buttons
    patterns:
    - name: Default button style
      markup: |
        <div class="btn-group">
            <button class="btn">Action 1</button>
            <button class="btn btn-compound-action"><i class="icon-caret-down"><span class="jekyll-bug"></span></i></button>
        </div>
    - name: Secondary button style
      markup: |
        <div class="btn-group">
            <button class="btn btn-secondary">Action 1</button>
            <button class="btn btn-secondary btn-compound-action"><i class="icon-caret-down"><span class="jekyll-bug"></span></i></button>
        </div>
    - name: Super button style
      markup: |
        <div class="btn-group">
            <button class="btn btn-super">Action 1</button>
            <button class="btn btn-super btn-compound-action"><i class="icon-caret-down"><span class="jekyll-bug"></span></i></button>
        </div>
    tags:
    - fj-buttons
    - fj-icons
*/

.btn-compound-action {

    @font-size: @btn-font-size-px;

    & {
        background-color: @pacific-80;
    }

    &:hover,
    &:focus,
    &.hover {
        background-color: @pacific;
    }

    &.btn-secondary {
        background-color: @gray-80;
    }

    &.btn-secondary:hover,
    &.btn-secondary:focus,
    &.btn-secondary.hover {
        background-color: @gray;
    }

}


/* topdoc
    name: Button link
    family: fj-buttons
    patterns:
    - name: Default state
      markup: <button class="btn btn-link">Find out more</button>
    - name: Hovered state
      markup: <button class="btn btn-link hover">Find out more</button>
    - name: Focused state
      markup: <button class="btn btn-link focus">Find out more</button>
    - name: Active state
      markup: <button class="btn btn-link active">Find out more</button>
    tags:
    - fj-buttons
*/

.btn-link {

    @font-size: @btn-font-size-px;

    &,
    &:link,
    &:visited {
        // This margin is necessary to vertically align link buttons with regular buttons.
        margin: unit( 10px / @font-size, em) 0;
        padding: 0;
        color: @pacific;
        background-color: transparent;
        border-bottom: 1px dotted @pacific;
        border-radius: 0;
    }

    &:hover,
    &.hover {
        color: @pacific-50;
        border-bottom: 1px solid @pacific-50;
        background-color: transparent;
    }

    &:focus,
    &.focus {
        border-bottom-style: solid;
        outline: thin dotted;
        background-color: transparent;
    }

    &:active,
    &.active {
        border-bottom: 1px solid @navy;
        background-color: transparent;
        color: @navy;
    }

}

.lt-ie8 {

    @font-size: @btn-font-size-px;

    button.btn-link,
    input.btn-link {
        // Sizes the width appropriately
        overflow: visible;
        // Needed to override .lt-ie8 button.btn and .lt-ie8 input.btn and
        // needed to push the border away from low hanging letters like "g"
        padding: 0 0 unit( 2px / @font-size, em ) 0;
    }

}


/* topdoc
    name: Destructive action button link
    family: fj-buttons
    patterns:
    - name: Default state
      markup: <button class="btn btn-link btn-warning">Delete</button>
    - name: Hovered state
      markup: <button class="btn btn-link btn-warning hover">Delete</button>
    - name: Focused state
      markup: <button class="btn btn-link btn-warning focus">Delete</button>
    - name: Active state
      markup: <button class="btn btn-link btn-warning active">Delete</button>
    tags:
    - fj-buttons
*/

.btn-link.btn-warning {

    & {
        color: @redorange;
        border-bottom-color: @redorange;
        background-color: transparent;
    }

    &:hover,
    &.hover {
        color: @redorange-80;
        border-bottom-color: @redorange-80;
    }

    &:focus,
    &.focus {
        border-bottom-color: @redorange-80;
        outline: thin dotted;
    }

    &:active,
    &.active {
        color: @dark-redorange;
        border-bottom-color: @dark-redorange;
    }

}


/* topdoc
  name: EOF
  eof: true
*/
